(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{4530:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/alert-rules",function(){return t(1353)}])},5375:function(e,r,t){"use strict";t.d(r,{I:function(){return i},O:function(){return Z}});var n,i,a=t(5893),l=t(2133),s=t(281),o=t(6755),c=t(5150),d=t(7848),u=t(6574),p=t(4948);let h=()=>{let{alertCount:e}=function(){let{isLoading:e,isError:r,data:t}=(0,d.a)({queryKey:["alert-count"],queryFn:()=>(0,u.Bc)()});return{isAlertCountLoading:e,isAlertCountError:r,alertCount:t}}();return(0,a.jsx)(a.Fragment,{children:e>0?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p.Z,{badgeContent:e,color:"error",children:(0,a.jsx)(c.Z,{})})}):(0,a.jsx)(c.Z,{})})};var x=t(8878),m=t(4229),j=t(8758);let Z=[{title:"My Catalog",href:"/dashboard/my-catalog",className:"nav-links",icon:(0,a.jsx)(l.Z,{}),value:1},{title:" Competitors",href:"/dashboard/competitors",className:"nav-links",icon:(0,a.jsx)(s.Z,{}),value:2},{title:"Reports",href:"/dashboard/reports",className:"nav-links",icon:(0,a.jsx)(o.Z,{}),value:3},{title:" Alerts",href:"/dashboard/alerts",className:"nav-links",icon:(0,a.jsx)(h,{}),value:4},{title:" Alert Rules",href:"/dashboard/alert-rules",className:"nav-links",icon:(0,a.jsx)(j.Z,{}),value:5,subValue:1},{title:"Alert Settings",href:"/dashboard/alert-settings",className:"nav-links",icon:(0,a.jsx)(m.Z,{}),value:6,subValue:2},{title:"My Account",href:"/dashboard/my-account",className:"nav-links",icon:(0,a.jsx)(x.Z,{}),value:7}];(n=i||(i={}))[n.MyCatalog=1]="MyCatalog",n[n.Competitors=2]="Competitors",n[n.Reports=3]="Reports",n[n.Alerts=4]="Alerts",n[n.AlertRules=5]="AlertRules",n[n.AlertSettings=6]="AlertSettings",n[n.MyAccount=7]="MyAccount"},6381:function(e,r,t){"use strict";t.d(r,{Z:function(){return E}});var n=t(5893),i=t(7294),a=t(6886),l=t(3321),s=t(7720),o=t(7533),c=t(5861),d=t(155),u=t(8462),p=t(5375),h=t(7212),x=t(7594),m=t(9334),j=t(8619),Z=t(1145),f=t(8201),g=t(3540),y=t(5675),b=t.n(y),C=t(1664),v=t.n(C),P=t(4958),T=t.n(P),R=t(3542);function S(e){let{selectedPage:r}=e,t="260px",{logout:y,loggedInUser:C}=(0,i.useContext)(R.Z),P=e=>({selected:r===e});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.ZP,{variant:"permanent",anchor:"left",sx:{minWidth:t,width:t},children:(0,n.jsxs)(a.ZP,{container:!0,display:"flex",justifyContent:"space-between",flexDirection:"column",paddingX:2,sx:{height:"100%"},children:[(0,n.jsxs)(a.ZP,{item:!0,container:!0,display:"flex",flexDirection:"column",flex:1,children:[(0,n.jsx)(a.ZP,{item:!0,display:"flex",justifyContent:"center",paddingY:1,children:(0,n.jsx)(d.Z,{children:(0,n.jsx)(b(),{src:"/price_spy_logo.svg",alt:"Price Spy Logo",width:180,height:80,priority:!0})})}),(0,n.jsx)(s.Z,{}),(0,n.jsx)(a.ZP,{item:!0,paddingTop:1,children:(0,n.jsx)(u.Z,{children:p.O.map(e=>(0,n.jsx)(h.ZP,{children:(0,n.jsx)(v(),{href:e.href,className:T().listItemLink,children:(0,n.jsxs)(j.Z,{...P(e.value),children:[(0,n.jsx)(x.Z,{children:e.icon}),(0,n.jsx)(m.Z,{primary:e.title})]})})},e.value))})})]}),(0,n.jsxs)(a.ZP,{item:!0,children:[(0,n.jsx)(s.Z,{}),(0,n.jsxs)(a.ZP,{container:!0,display:"flex",justifyContent:"space-evenly",alignItems:"center",flexDirection:"row",paddingY:2,children:[(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(Z.Z,{sx:{fontSize:"32px"}})}),(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(c.Z,{fontWeight:"bold",children:"Need help? Chat with us"})})]}),(0,n.jsx)(s.Z,{}),(0,n.jsxs)(a.ZP,{container:!0,display:"flex",justifyContent:"space-evenly",alignItems:"center",flexDirection:"row",paddingY:2,children:[(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(l.Z,{children:(0,n.jsx)(f.Z,{sx:{fontSize:"48px"}})})}),(0,n.jsxs)(a.ZP,{item:!0,children:[(0,n.jsx)(c.Z,{children:"Customer"}),(0,n.jsx)(c.Z,{fontWeight:"bold",children:null==C?void 0:C.firstName})]}),(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(l.Z,{onClick:e=>{e.preventDefault(),y()},children:(0,n.jsx)(g.Z,{sx:{fontSize:"30px"}})})})]})]})]})})})}var _=t(5981),k=t.n(_);function E(e){let{pageComponent:r,currentPage:t,pageTitle:i,pageSubtitle:l,actionShelf:o}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(a.ZP,{container:!0,display:"flex",flexDirection:"row",height:"100vh",px:0,children:[(0,n.jsx)(a.ZP,{item:!0,style:{flex:0},children:(0,n.jsx)(S,{selectedPage:t})}),(0,n.jsxs)(a.ZP,{item:!0,className:k().dashboardWrapper,children:[(0,n.jsx)(c.Z,{className:k().dashboardTitle,children:i}),(0,n.jsx)(c.Z,{className:k().dashboardSubtitle,children:l}),o,(0,n.jsx)(s.Z,{}),r]})]})})}},2096:function(e,r,t){"use strict";t.d(r,{r:function(){return a}});var n=t(8990),i=t(7848);function a(){let{isLoading:e,isError:r,data:t}=(0,i.a)({queryKey:["products"],queryFn:()=>(0,n.ye)()});return{isLoadingGetProducts:e,isErrorGetProducts:r,products:t}}},1353:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return em}});var n=t(5893),i=t(6886),a=t(5981),l=t.n(a),s=t(4386),o=t(135),c=t(7357),d=t(629),u=t(155),p=t(1796),h=t(5861),x=t(3946),m=t(7957),j=t(1733),Z=t(8309),f=t(7294),g=t(1737),y=t(3321),b=t(8456),C=t(4054),v=t(3841),P=t(7504),T=t(7536),R=t(1604),S=t(6312),_=t(5945),k=t(8228),E=t(6154),w=t(4484);async function A(){var e;let r=await E.Z.get(w.ZP.ALERT_RULES);return null!==(e=r.data)&&void 0!==e?e:[]}async function D(e){let r=await E.Z.post(w.ZP.ALERT_RULES,e);return r.data}async function I(e){let r=await E.Z.delete(w.ZP.ALERT_RULES,{data:e});return r.data}async function z(e){let r=await E.Z.patch(w.ZP.ALERT_RULES,e);return r.data}var L=t(8972),N=t(1683),W=t(6815),F=t(7058),O=t(9334),G=t(9368),H=t(7848);async function M(){var e;let r=await E.Z.get(w.ZP.RETAILER_COMPANIES);return null!==(e=r.data)&&void 0!==e?e:[]}function q(){let{isLoading:e,isError:r,data:t}=(0,H.a)({queryKey:["retailerCompanies"],queryFn:M});return{isRetailerCompaniesLoading:e,isRetailerCompaniesError:r,retailerCompanies:t}}let U=R.z.object({priceThreshold:R.z.number().positive("Must be positive.").or(R.z.string().regex(/^\d*\.?\d+$/,"Must be a positive number.").min(1).transform(e=>parseFloat(e))),priceComparisonType:R.z.enum(["LOWER","HIGHER"]),retailerCompanies:R.z.array(R.z.object({id:R.z.string(),name:R.z.string()}))});function K(e){let{open:r,onClose:t,alertRule:i}=e,[a,l]=(0,f.useState)(!1),[s,c]=(0,f.useState)(!1),{updateAlertRuleMutation:d}=function(){let e=(0,_.NL)(),{isError:r,isLoading:t,data:n,mutateAsync:i}=(0,k.D)({mutationFn:z,onSuccess:(r,t)=>{e.setQueryData(["alertRules"],e=>(null!=e?e:[]).map(e=>e.id===t.id?{...e,...t}:e))}});return{isUpdateAlertRuleError:r,isUpdateAlertRuleLoading:t,alertRuleUpdated:n,updateAlertRuleMutation:i}}(),{retailerCompanies:u}=q(),[p,x]=(0,f.useState)(i.retailerCompanies),{register:m,formState:{errors:j,isLoading:Z},handleSubmit:R,watch:E}=(0,T.cI)({resolver:(0,S.F)(U),defaultValues:{id:i.id,priceThreshold:i.priceThreshold,priceComparisonType:i.priceComparisonType,retailerCompanies:i.retailerCompanies}});function w(){l(!1);let{priceThreshold:e,priceComparisonType:r}=E(),t={id:i.id,priceThreshold:e,priceComparisonType:r,retailerCompanies:p};d(t).then(e=>{c(!0)}).catch(e=>{l(!0)})}let A=e=>{let{value:r}=e.target,t=null==u?void 0:u.filter(e=>r.includes(e.id.toString()));x(null!=t?t:[])},D=e=>{let r=e.map(e=>{let r=null==u?void 0:u.find(r=>r.id===e);return r?r.name:""});return r.join(", ")};return console.log(E("retailerCompanies")),console.log(p),(0,n.jsx)(P.Z,{sx:{overflow:"scroll"},open:r,onClose:t,children:s?(0,n.jsx)(function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{variant:"filled",severity:"success",children:"Alert rule updated successfully."}),(0,n.jsx)(y.Z,{onClick:t,children:"Ok"})]})},{}):(0,n.jsx)(function(){var e,r;return(0,n.jsxs)("form",{style:{backgroundColor:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",margin:"3rem",padding:"2rem"},onSubmit:R(w),children:[(0,n.jsx)(h.Z,{variant:"h5",children:i.productName}),(0,n.jsx)(o.Z,{type:"number",error:!!j.priceThreshold,helperText:null===(e=j.priceThreshold)||void 0===e?void 0:null===(r=e.message)||void 0===r?void 0:r.toString(),...m("priceThreshold"),placeholder:"Price threshold",label:"Price threshold",sx:{width:"100%"}}),(0,n.jsxs)(C.Z,{fullWidth:!0,children:[(0,n.jsx)(v.Z,{id:"price-comparison-type-label",children:"Price Comparison Type"}),(0,n.jsxs)(N.Z,{label:"Price Comparison Type",labelId:"price-comparison-type-label",id:"priceComparisonType",...m("priceComparisonType"),value:E("priceComparisonType"),children:[(0,n.jsx)(L.Z,{value:"LOWER",children:"LOWER"},"LOWER"),(0,n.jsx)(L.Z,{value:"HIGHER",children:"HIGHER"},"HIGHER")]}),(0,n.jsx)(W.Z,{children:!!j.priceComparisonType})]}),(0,n.jsxs)(C.Z,{fullWidth:!0,children:[(0,n.jsx)(v.Z,{id:"demo-multiple-checkbox-label",children:"Retailer companies"}),(0,n.jsx)(N.Z,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:p.map(e=>e.id),onChange:A,input:(0,n.jsx)(F.Z,{label:"Retailer companies"}),renderValue:D,children:null==u?void 0:u.map(e=>(0,n.jsxs)(L.Z,{value:e.id,children:[(0,n.jsx)(G.Z,{checked:p.some(r=>r.id===e.id)}),(0,n.jsx)(O.Z,{primary:e.name})]},e.id))})]}),(0,n.jsx)(y.Z,{type:"submit",variant:"contained",sx:{maxWidth:"50%"},children:"Save"}),Z?(0,n.jsx)(b.Z,{}):"",a?(0,n.jsx)(g.Z,{variant:"filled",severity:"error",children:"Error updating the alert rule."}):""]})},{})})}var V=t(2096),Y=t(3457);let X=R.z.object({id:R.z.string(),name:R.z.string(),description:R.z.string(),ean:R.z.string(),manufacturerCode:R.z.string(),category:R.z.string()}),B=R.z.object({id:R.z.string(),name:R.z.string()}),J=R.z.object({product:X,priceThreshold:R.z.number().positive("Purchase cost has to be positive.").or(R.z.string().regex(/^\d*\.?\d+$/).min(1,"Purchase cost must be greater than 0.").transform(e=>parseFloat(e))),priceComparisonType:R.z.string(),retailerCompanies:R.z.array(B)});function Q(e){let{open:r,onClose:t}=e,{products:i}=(0,V.r)(),[a,l]=(0,f.useState)([]),{retailerCompanies:s}=q(),[c,d]=(0,f.useState)(!1),[u,p]=(0,f.useState)(!1),{addAlertRuleMutation:x}=function(){let e=(0,_.NL)(),{isLoading:r,isError:t,data:n,mutateAsync:i}=(0,k.D)({mutationFn:D,onSuccess:r=>{e.setQueryData(["alertRules"],e=>[...null!=e?e:[],r])}});return{isAddAlertRuleError:t,isAddAlertRuleLoading:r,alertRuleAdded:n,addAlertRuleMutation:i}}(),{register:m,formState:j,handleSubmit:Z,watch:R,setValue:E}=(0,T.cI)({resolver:(0,S.F)(J)}),{errors:w,isLoading:A}=j;async function I(e){e.preventDefault(),d(!1);let{product:r,priceThreshold:t,priceComparisonType:n}=R(),l=null==i?void 0:i.find(e=>e.id===r),s={product:{id:l.product.id,name:l.product.name,description:l.product.description,ean:l.product.ean,manufacturerCode:l.product.manufacturerCode,category:l.product.category},priceThreshold:t,priceComparisonType:n,retailerCompanies:a};try{await x(s),p(!0)}catch(e){d(!0)}}let z=e=>{let{value:r}=e.target;if(s){let e=s.filter(e=>-1!==r.indexOf(e.id)).map(e=>e.id),t=s.filter(r=>e.includes(r.id));l(t),E("retailerCompanies",t)}};console.log(R("retailerCompanies"));let H=e=>{let r=e.map(e=>{let r=null==s?void 0:s.find(r=>r.id===e);return r?r.name:""});return r.join(", ")};return(0,n.jsx)(P.Z,{sx:{overflow:"scroll"},open:r,onClose:t,children:u?(0,n.jsx)(function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{variant:"filled",severity:"success",children:"Alert rule added successfully."}),(0,n.jsx)(y.Z,{onClick:t,children:"Ok"})]})},{}):(0,n.jsx)(function(){var e,r;return(0,n.jsxs)("form",{style:{backgroundColor:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",margin:"3rem",padding:"2rem"},children:[(0,n.jsx)(h.Z,{variant:"h5",children:"Add a new alert rule"}),(0,n.jsxs)(Y.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem"},children:[(0,n.jsxs)(C.Z,{fullWidth:!0,children:[(0,n.jsx)(v.Z,{id:"product-label",children:"Product"}),(0,n.jsx)(N.Z,{label:"Product",labelId:"product-label",id:"product",...m("product"),value:R("product")||"",children:null==i?void 0:i.map(e=>(0,n.jsx)(L.Z,{value:e.id,children:(0,n.jsx)(O.Z,{primary:e.product.name})},e.id))}),(0,n.jsx)(W.Z,{children:!!w.priceComparisonType})]}),(0,n.jsx)(o.Z,{type:"number",error:!!w.priceThreshold,helperText:null===(e=w.priceThreshold)||void 0===e?void 0:null===(r=e.message)||void 0===r?void 0:r.toString(),...m("priceThreshold"),placeholder:"Price threshold",label:"Price threshold",fullWidth:!0}),(0,n.jsxs)(C.Z,{fullWidth:!0,children:[(0,n.jsx)(v.Z,{id:"price-comparison-type-2-label",children:"Price Comparison Type"}),(0,n.jsxs)(N.Z,{label:"Price Comparison Type",labelId:"price-comparison-type-2-label",id:"priceComparisonType",...m("priceComparisonType"),value:R("priceComparisonType")||"",children:[(0,n.jsx)(L.Z,{value:"LOWER",children:"LOWER"},"LOWER"),(0,n.jsx)(L.Z,{value:"HIGHER",children:"HIGHER"},"HIGHER")]}),(0,n.jsx)(W.Z,{children:!!w.priceComparisonType})]}),(0,n.jsxs)(C.Z,{fullWidth:!0,children:[(0,n.jsx)(v.Z,{id:"checkbox-label",children:"Retailer companies"}),(0,n.jsx)(N.Z,{labelId:"checkbox-label",id:"checkbox",...m("retailerCompanies",{value:a.map(e=>({id:e.id,name:e.name}))}),multiple:!0,value:a.map(e=>e.id),onChange:z,input:(0,n.jsx)(F.Z,{label:"Retailer companies"}),renderValue:H,children:null==s?void 0:s.map(e=>(0,n.jsxs)(L.Z,{value:e.id,children:[(0,n.jsx)(G.Z,{checked:a.some(r=>r.id===e.id)}),(0,n.jsx)(O.Z,{primary:e.name})]},e.id))})]})]}),(0,n.jsx)(y.Z,{type:"submit",variant:"contained",sx:{maxWidth:"50%"},onClick:e=>I(e),children:"Save"}),A?(0,n.jsx)(b.Z,{}):"",c?(0,n.jsx)(g.Z,{variant:"filled",severity:"error",children:" Error adding the alert rule."}):""]})},{})})}function $(e){let{numSelected:r,selected:t}=e,[i,a]=(0,f.useState)(!1),[l,o]=(0,f.useState)(!1);return(0,n.jsxs)(u.Z,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...r>0&&{bgcolor:e=>(0,p.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[r>0?(0,n.jsxs)(h.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[r," selected"]}):(0,n.jsx)(h.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:e.title}),1===r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{title:"Edit Alert Rule",children:(0,n.jsx)(x.Z,{size:"large",onClick:function(){a(!0)},children:(0,n.jsx)(m.Z,{})})}),(0,n.jsx)(s.Z,{title:"Delete Alert Rule",children:(0,n.jsx)(x.Z,{size:"large",onClick:function(){I(t.map(e=>e.id))},children:(0,n.jsx)(j.Z,{})})})]}):r>1?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.Z,{title:"Delete Selected Alert Rule",children:(0,n.jsx)(x.Z,{size:"large",children:(0,n.jsx)(j.Z,{})})})}):(0,n.jsx)(s.Z,{title:"Add New Alert Rule",children:(0,n.jsx)(x.Z,{size:"large",onClick:function(){o(!0)},children:(0,n.jsx)(Z.Z,{})})}),1===t.length&&i?(0,n.jsx)(K,{alertRule:t[0],open:i,onClose:function(){a(!1)}}):"",l?(0,n.jsx)(Q,{open:l,onClose:function(){o(!1)}}):""]})}var ee=t(2882),er=t(7906),et=t(3184),en=t(3816),ei=t(3252),ea=t(6280),el=t(3113);let es=[{id:"id",numeric:!1,disablePadding:!1,label:"Product ID"},{id:"productName",numeric:!1,disablePadding:!1,label:"Product"},{id:"priceThreshold",numeric:!0,disablePadding:!1,label:"Price Threshold"},{id:"retailerCompanies",numeric:!1,disablePadding:!1,label:"Retailer Companies"},{id:"priceComparisonType",numeric:!0,disablePadding:!1,label:"Price Comparison Type"}];function eo(e){let{onSelectAllClick:r,order:t,orderBy:i,numSelected:a,rowCount:l,onRequestSort:s}=e,o=e=>r=>{s(r,e)};return(0,n.jsx)(et.Z,{children:(0,n.jsxs)(en.Z,{children:[(0,n.jsx)(ei.Z,{padding:"checkbox",children:(0,n.jsx)(G.Z,{color:"primary",indeterminate:a>0&&a<l,checked:l>0&&a===l,onChange:r,inputProps:{"aria-label":"select all desserts"}})}),es.map(e=>(0,n.jsx)(ei.Z,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:i===e.id&&t,children:(0,n.jsxs)(ea.Z,{active:i===e.id,direction:i===e.id?t:"asc",onClick:o(e.id),children:[e.label,i===e.id?(0,n.jsx)(c.Z,{component:"span",sx:el.Z,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id))]})})}var ec=t(295),ed=t(5347),eu=t(480),ep=t(5843),eh=t(6381),ex=t(5375);function em(){let{isAlertRulesLoading:e,isAlertRulesError:r,alertRules:t}=function(){let{isLoading:e,isError:r,data:t}=(0,H.a)({queryKey:["alertRules"],queryFn:A});return{isAlertRulesLoading:e,isAlertRulesError:r,alertRules:t}}(),[a,u]=(0,f.useState)([]),[p,h]=(0,f.useState)("asc"),[x,m]=(0,f.useState)("productName"),[j,Z]=(0,f.useState)(0),[y,C]=(0,f.useState)(!0),[v,P]=(0,f.useState)(10),T=(null!=t?t:[]).map(e=>({id:e.id,productName:e.product.name,priceThreshold:e.priceThreshold,priceComparisonType:e.priceComparisonType,retailerCompanies:e.retailerCompanies}));(0,f.useEffect)(()=>{u([])},[]);let R=(e,r)=>{h(x===r&&"asc"===p?"desc":"asc"),m(r),Z(0)},S=e=>{if(e.target.checked){u(T);return}u([])},_=(e,r)=>{let t=a.some(e=>e.id===r.id),n=t?a.filter(e=>e.id!==r.id):[...a,r];u(n)},k=(e,r)=>{Z(r)},E=e=>{P(parseInt(e.target.value,10)),Z(0)},w=e=>{C(e.target.checked)},D=e=>a.some(r=>r.id===e.id),I=j>0?Math.max(0,(1+j)*v-T.length):0,z=(0,f.useMemo)(()=>{var e;return(function(e,r,t){let n=e.map((e,r)=>[e,r]);return n.sort((e,t)=>{let n=r(e[0],t[0]);return 0!==n?n:e[1]-t[1]}),n.map(e=>e[0])})(T,(e="retailerCompanies",(r,t)=>{if(e&&r[e]===t[e])return 0;let n=r[x],i=t[x];if(Array.isArray(n)&&Array.isArray(i)){let e=n.length-i.length;if(0!==e)return e;for(let e=0;e<n.length;e++){let r=n[e].id,t=i[e].id;if(r<t)return -1;if(r>t)return 1}return 0}return"string"==typeof n&&"string"==typeof i?n.localeCompare(i)*("asc"===p?1:-1):(n-i)*("asc"===p?1:-1)})).slice(j*v,j*v+v)},[p,x,j,v,T]);return(0,n.jsx)(eh.Z,{currentPage:ex.I.AlertRules,pageTitle:"Alert Rules",pageSubtitle:"Adjust your alert rules",actionShelf:(0,n.jsx)(function(){return(0,n.jsx)(s.Z,{title:"Feature not available yet",arrow:!0,children:(0,n.jsx)(o.Z,{variant:"outlined",disabled:!0,placeholder:"Search alert rule",sx:{my:2}})})},{}),pageComponent:(0,n.jsx)(function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.ZP,{item:!0,className:l().contentWrapper,children:e?(0,n.jsx)(b.Z,{}):r?(0,n.jsx)(g.Z,{severity:"error",children:"Alert rules could not be loaded"}):!e&&!r&&T&&(0,n.jsx)(i.ZP,{item:!0,className:l().lineChart,children:(0,n.jsxs)(c.Z,{sx:{width:"100%",pt:2},children:[(0,n.jsxs)(d.Z,{sx:{width:"100%",mb:2},children:[(0,n.jsx)($,{title:"Alert Rules",selected:a,numSelected:a.length,setSelected:u}),(0,n.jsx)(ee.Z,{children:(0,n.jsxs)(er.Z,{"aria-labelledby":"tableTitle",size:y?"small":"medium",children:[(0,n.jsx)(eo,{numSelected:a.length,order:p,orderBy:x,onSelectAllClick:S,onRequestSort:R,rowCount:T.length}),(0,n.jsxs)(ec.Z,{children:[z.map((e,r)=>{let t=D(e),i="enhanced-table-checkbox-".concat(r);return(0,n.jsxs)(en.Z,{hover:!0,onClick:r=>_(r,e),role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,sx:{cursor:"pointer"},children:[(0,n.jsx)(ei.Z,{padding:"checkbox",children:(0,n.jsx)(G.Z,{color:"primary",checked:t,inputProps:{"aria-labelledby":i}})}),(0,n.jsx)(ei.Z,{component:"th",id:i,scope:"row",padding:"none",children:e.id}),(0,n.jsx)(ei.Z,{align:"right",children:e.productName}),(0,n.jsx)(ei.Z,{align:"right",children:e.priceThreshold}),(0,n.jsx)(ei.Z,{align:"right",children:e.retailerCompanies.map((r,t)=>t===e.retailerCompanies.length-1?r.name:r.name+", ")}),(0,n.jsx)(ei.Z,{align:"right",children:e.priceComparisonType})]},e.id)}),I>0&&(0,n.jsx)(en.Z,{style:{height:(y?33:53)*I},children:(0,n.jsx)(ei.Z,{colSpan:6})})]})]})}),(0,n.jsx)(ed.Z,{rowsPerPageOptions:[10,25,50],component:"div",count:T.length,rowsPerPage:v,page:j,onPageChange:k,onRowsPerPageChange:E})]}),(0,n.jsx)(eu.Z,{control:(0,n.jsx)(ep.Z,{checked:y,onChange:w}),label:"Dense padding"})]})})})})},{})})}},6574:function(e,r,t){"use strict";t.d(r,{Bc:function(){return l},fH:function(){return s},sM:function(){return a}});var n=t(6154),i=t(4484);async function a(){let e=await n.Z.get(i.ZP.ALERTS);return console.log("Get alerts response: ",e.data),e.data}async function l(){let e=await n.Z.get(i.ZP.ALERT_COUNT);return void 0===e.data||null===e.data?0:e.data}async function s(e){let r=await n.Z.patch(i.ZP.ALERTS,e);return r.data}},8990:function(e,r,t){"use strict";t.d(r,{Fd:function(){return s},Gx:function(){return l},kZ:function(){return o},ye:function(){return a}}),t(8455);var n=t(6154),i=t(4484);async function a(){let e=await n.Z.get(i.ZP.TRACKED_PRODUCTS);return e.data}async function l(e){let r=await n.Z.post(i.ZP.TRACKED_PRODUCTS,e);return r.data}async function s(e){return(await n.Z.delete(i.ZP.TRACKED_PRODUCTS,{data:e})).data}async function o(e){let r=await n.Z.patch(i.ZP.TRACKED_PRODUCTS,e);return r.data}},4958:function(e){e.exports={accountCircleIcon:"DashboardDrawer_accountCircleIcon__LJVAz",logoutIcon:"DashboardDrawer_logoutIcon__EuxIl",listItemLink:"DashboardDrawer_listItemLink__vrok9"}},5981:function(e){e.exports={dashboardTitle:"DashboardGenericContent_dashboardTitle__JYo_d",dashboardSubtitle:"DashboardGenericContent_dashboardSubtitle__d1_jV",actionShelf:"DashboardGenericContent_actionShelf__Z69vu",contentWrapper:"DashboardGenericContent_contentWrapper__XV2Uc",lineChart:"DashboardGenericContent_lineChart__4Dsfy",drawerWrapper:"DashboardGenericContent_drawerWrapper__Yp0vM",dashboardWrapper:"DashboardGenericContent_dashboardWrapper__aPPfz"}}},function(e){e.O(0,[135,810,243,760,260,370,774,888,179],function(){return e(e.s=4530)}),_N_E=e.O()}]);